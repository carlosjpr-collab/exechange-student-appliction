<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
<link rel="stylesheet" href="/css/loader.css"/>
<title> Student Apply</title>
</head>

<body>
<div id="HomeStudent_apply" class="container-fluid" v-cloak>
	<div class="row">
		<div th:insert="~{nav :: copy}"></div>
	</div>
	
	<div class='row'>
		<img class="animated-gif" v-if="showloader" src="/images/loader.gif">
	</div>
	<div class="container" v-if="!showloader">
		<div class="row">
			<br>
		</div>
		<div class="row">
			<h2> Please select a university from the list of partner universities </h2>
			<div class="col-md-4 .col-lg-4">
				<input v-model="search" type="Search" class="form-control ds-input" id="search-input" placeholder="Search..."
					autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false"
					aria-owns="algolia-autocomplete-listbox-0" dir="auto">
			</div>
		</div>
		<div class="row">
			<br>
		</div>
		<div class="row">
			<div class="list-group">
				<button type="button" class="list-group-item list-group-item-action active">List of university</button>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-md-4 .col-lg-4">
				<div id="listofUniversity" v-for="(university,index) in filteredList" @click="openbox(index)">
					<div class="list-group">
						<button type="button" class="list-group-item list-group-item-action">
							{{university.name}} </i>
						</button>
					</div>
					<br>
				</div>
			</div>

			<div class="col-md-8 .col-lg-8">
				<div v-if="showUniversityActive" class="list-group-item">
					<div>
						<h2>
							{{universityName}} </br>
						</h2>
					</div>
					<div>
						Country: {{universityCountry}} <br>
					</div>
					<div>
						City: {{universityCity}} <br>
					</div>
					<div>
						Website: <a v-bind:href="universityUrl">{{universityUrl}}</a>
					</div>
					<div>
						Courses offered:
						<div v-for="course in universityCourses">{{course.name}}</div>
					</div>
					<br>

					<div class="checkbox">
						You must share your information with the university that you will apply. <br> <label><input
							v-model='acceptV' type="checkbox" value=""> Accept sharing policy </input></label>
					</div>
					<div>
						<button type="button" :disabled="acceptPolicy" data-toggle="modal" data-target="#exampleModal"
							class="btn btn-primary" @click="apply(universityId)">Apply</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal for Policy -->
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Confirmation message</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					{{ successApply }} <br>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
	
	<footer class="footer">
		<nav class="navbar fixed-bottom navbar-expand-sm navbar-light bg-light">
			<p>&copy; Team 2018</p>
		</nav>
	</footer>
</div>

<script type="text/javascript" src="/js/vuejs/vue.js"></script>
<script type="text/javascript" src="/js/axios/axios.min.js"></script>
<script type="text/javascript" src="/js/vuejs/pages/homeStudent_apply.js"></script>
<script type="text/javascript" src="/js/jQuery/jquery-3.3.1.slim.min.js"></script>
<script type="text/javascript" src="/js/popper/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap/bootstrap.min.js"></script>

</body>
</html>
